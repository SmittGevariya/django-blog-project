{% extends 'layout.html' %}

{% block content %}
    <div class='d-flex justify-content-between align-items-center mb-4'>
        <h2>All Posts</h2>
        {% if user.is_authenticated %}
        <a href="{% url 'post_new' %}" class='btn btn-primary'>New Post</a>
        {% endif %}

        <form action="{% url 'post_list' %}" method='GET' class='mb-4'>
            <div class="input-group">
                <input type="text" name='q' class='form-control' placeholder="Search ..." value = {{request.GET.q}}>
                <button class='btn btn-outline-primary' type='submit'>Search</button>
            </div>
        </form>
    </div>
    {% for post in posts %}
        <div clas='card mb-3'>
            <div class='card-body'>
                <h3 class='card-title'>
                    <a href="{% url 'post_detail' pk=post.pk %}" >{{post.title}}</a>
                </h3>
                <p class='card-text mt-3 mb-3'>{{post.content}}</p>
            </div>
        </div>
    {% endfor %}
{% endblock  %}