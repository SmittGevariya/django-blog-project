{% extends 'layout.html' %}

{% block content %}
    <div class='d-flex justify-content-between align-items-center mb-4'>
        <h2 class='mt-3'>All Posts</h2>
        {% if user.is_authenticated %}
        <a href="{% url 'post_new' %}" class='btn btn-primary'>New Post</a>
        {% endif %}
    </div>
    {% for post in posts %}
        <div clas='card mb-3'>
            <div class='card-body'>
                {% if post.image %}
                <img src="{{post.image.url}}"  class="img-fluid rounded mb-3" alt="{{post.title}}">
                {% endif %}
                <h3 class='card-title'>
                    <a href="{% url 'post_detail' pk=post.pk %}" >{{post.title}}</a>
                </h3>
                <p class='card-text mt-3 mb-5'>{{post.content  | truncatewords:30}}</p>
            </div>
        </div>
    {% endfor %}
{% endblock  %}